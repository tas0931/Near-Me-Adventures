{"ast":null,"code":"const BASE = 'http://localhost:5000/api';\nasync function request(path, options = {}) {\n  const headers = options.headers || {};\n  const token = localStorage.getItem('token');\n  if (token) headers['Authorization'] = 'Bearer ' + token;\n  headers['Content-Type'] = headers['Content-Type'] || 'application/json';\n  const res = await fetch(`${BASE}${path}`, {\n    ...options,\n    headers\n  });\n  const data = await res.json().catch(() => ({}));\n  if (!res.ok) throw new Error(data.message || 'Request failed');\n  return data;\n}\nexport function register(payload) {\n  return request('/auth/register', {\n    method: 'POST',\n    body: JSON.stringify(payload)\n  });\n}\nexport function login(payload) {\n  return request('/auth/login', {\n    method: 'POST',\n    body: JSON.stringify(payload)\n  });\n}\nexport function getProfile() {\n  return request('/auth/me', {\n    method: 'GET'\n  });\n}\nexport function getAllUsers() {\n  return request('/auth/admin/users', {\n    method: 'GET'\n  });\n}\nexport function deleteUser(id) {\n  return request(`/auth/admin/users/${id}`, {\n    method: 'DELETE'\n  });\n}\n\n// Wishlist APIs\nexport function getWishlist() {\n  return request('/wishlist', {\n    method: 'GET'\n  });\n}\nexport function addWishlist(item) {\n  return request('/wishlist', {\n    method: 'POST',\n    body: JSON.stringify(item)\n  });\n}\nexport function removeWishlist(itemId) {\n  return request(`/wishlist/${itemId}`, {\n    method: 'DELETE'\n  });\n}\n\n// Bookings APIs\nexport function getServerBookings() {\n  return request('/bookings', {\n    method: 'GET'\n  });\n}\nexport function addServerBooking(item) {\n  return request('/bookings', {\n    method: 'POST',\n    body: JSON.stringify(item)\n  });\n}\nexport function removeServerBooking(itemId) {\n  return request(`/bookings/${itemId}`, {\n    method: 'DELETE'\n  });\n}\n\n// Admin helpers to fetch specific user's data\nexport function getUserBookings(userId) {\n  return request(`/auth/admin/users/${userId}/bookings`, {\n    method: 'GET'\n  });\n}\nexport function getUserWishlist(userId) {\n  return request(`/auth/admin/users/${userId}/wishlist`, {\n    method: 'GET'\n  });\n}","map":{"version":3,"names":["BASE","request","path","options","headers","token","localStorage","getItem","res","fetch","data","json","catch","ok","Error","message","register","payload","method","body","JSON","stringify","login","getProfile","getAllUsers","deleteUser","id","getWishlist","addWishlist","item","removeWishlist","itemId","getServerBookings","addServerBooking","removeServerBooking","getUserBookings","userId","getUserWishlist"],"sources":["D:/BRACU/BRAC/Fall-25/CSE471/Lab/NM Adventures V5/NM Adventures V5/frontend/src/services/api.js"],"sourcesContent":["const BASE = 'http://localhost:5000/api';\n\nasync function request(path, options = {}) {\n  const headers = options.headers || {};\n  const token = localStorage.getItem('token');\n  if (token) headers['Authorization'] = 'Bearer ' + token;\n  headers['Content-Type'] = headers['Content-Type'] || 'application/json';\n  const res = await fetch(`${BASE}${path}`, { ...options, headers });\n  const data = await res.json().catch(() => ({}));\n  if (!res.ok) throw new Error(data.message || 'Request failed');\n  return data;\n}\n\nexport function register(payload) {\n  return request('/auth/register', { method: 'POST', body: JSON.stringify(payload) });\n}\n\nexport function login(payload) {\n  return request('/auth/login', { method: 'POST', body: JSON.stringify(payload) });\n}\n\nexport function getProfile() {\n  return request('/auth/me', { method: 'GET' });\n}\n\nexport function getAllUsers() {\n  return request('/auth/admin/users', { method: 'GET' });\n}\n\nexport function deleteUser(id) {\n  return request(`/auth/admin/users/${id}`, { method: 'DELETE' });\n}\n\n// Wishlist APIs\nexport function getWishlist() {\n  return request('/wishlist', { method: 'GET' });\n}\n\nexport function addWishlist(item) {\n  return request('/wishlist', { method: 'POST', body: JSON.stringify(item) });\n}\n\nexport function removeWishlist(itemId) {\n  return request(`/wishlist/${itemId}`, { method: 'DELETE' });\n}\n\n// Bookings APIs\nexport function getServerBookings() {\n  return request('/bookings', { method: 'GET' });\n}\n\nexport function addServerBooking(item) {\n  return request('/bookings', { method: 'POST', body: JSON.stringify(item) });\n}\n\nexport function removeServerBooking(itemId) {\n  return request(`/bookings/${itemId}`, { method: 'DELETE' });\n}\n\n// Admin helpers to fetch specific user's data\nexport function getUserBookings(userId) {\n  return request(`/auth/admin/users/${userId}/bookings`, { method: 'GET' });\n}\n\nexport function getUserWishlist(userId) {\n  return request(`/auth/admin/users/${userId}/wishlist`, { method: 'GET' });\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}